---
title: "Android Synthesizer App Tutorial Part 2: User Interface with Jetpack Compose"
description: "A tutorial for beginners on building an Android wavetable synthesizer user interface using Compose UI and modern architecture guidelines."
date: 2022-08-10
author: Jan Wilczek
layout: post
permalink: /android-synthesizer-2-graphical-user-interface-with-compose/
images: /assets/img/posts/synthesis/android-wavetable-synthesizer
background: /assets/img/posts/synthesis/android-wavetable-synthesizer/Thumbnail.webp
categories:
  - Sound Synthesis
tags:
  - android
  - wavetable
  - kotlin
  - C++
discussion_id: 2022-08-10-ui
custom_js:
 - /assets/vendor/lazyload/lazyload.min.js
 - /assets/js/wolfsound/modules/load_lazyload.js
---
Learn how to create the UI for Android apps!

## Introduction

In the [previous article]({% post_url synthesis/android-wavetable-synthesizer/2022-08-02-app-architecture.md %}), we set the goals of our project. The main goal is to build a wavetable synthesizer Android app. A secondary goal is to learn modern Android technologies along the way.

Today, we will learn the first of these technologies, namely, **Jetpack Compose**.

As usual, the full source code is available on my [GitHub](https://github.com/JanWilczek/android-wavetable-synthesizer).

## What Is Jetpack Compose?

**Jetpack Compose is a modern (as of 2022) framework for building the user interface (UI) for Android apps.**

Which framework is not modern anymore then? Well, everything before Compose so views and layouts.

What's changed?

1. We don't have to use XML files anymore.
2. Gone are `findViewById` and the like.
3. All the UI code is simply Kotlin code not XML.

## What Are The Benefits of Using Jetpack Compose?

The benefits of the new framework in my opinion are

1. **No need to learn a dedicated language (i.e., Android XML schemas).** Everything stays in Kotlin.
2. **Easier interaction of app code with the UI.** For example, we can use conditional statements to display parts of the UI or not.
3. **Previews are also generated with code.** No need to delve into some preview manager.

## What are the Drawbacks of Using Jetpack Compose?

Well, in my opinion, there are three:

1. **You have to learn a new framework.** That's why I created this tutorial for you ðŸ˜‰
2. **You can throw your knowledge of the previous framework into trash.** Unless, you work with the now-legacy views.
3. **You need to rewrite your UI to stay up to date.** For any more complicated app, that's a significant headache.

After complaining, we can now proceed to actually learning Jetpack Compose!

## How Does Jetpack Compose Work?

Jetpack Compose, like most of the UI frameworks (including HTML), is hierarchical.

The UI in Compose is built of **composables**.

Each composable consists of zero or more composables.

<!-- TODO: Some image of composables -->

By *composing composables* we can create any arbitrarily complex UI.

### What Are Composables?

Composables are simply Kotlin functions.

Within these functions we define what's inside of our composable.

```kotlin
// TODO: Some Composable
```

At the lowest level of the code written by developers, the composables contain the composable delivered by the Compose framework such as `Button`, `Text`, etc.

### Previewing Composables

What is great about composables is that we can preview them easily, which was not the case for views. Yes, we could preview views but it wasn't easy to display just parts of them. With Compose, we can go as deep or as shallow as we want to.

```kotlin
// TODO: Some preview
```


4. What is State Hoisting
5. Stateless Composables


## How to Set Up Your Project for Compose?

In this demonstration, I am using Android Studio Chipmunk 2021.2.1 Patch 1.

To create a Compose application, in Android Studio:

1. In the top menu bar, click **File -> New -> New Project...**.
2. In the newly opened window, click **Empty Compose Activity** and then **Next**.
   <!-- TODO: Image of the new project window -->
3. Give a name to your application and the package. In our tutorial, these are "Wavetable Synthesizer" and "com.thewolfsound.wavetablesynthesizer" respectively. Also choose the location for your project files.
   <!-- TODO: ProjectSetup.png -->
4. Click **Finish**.

Congratulations! You have just generated a Compose project ðŸ˜Ž

## Working with Compose

You should have obtained a file called *MainActivity.kt*. This file shows you how to build a simple composable and how to preview it.

In general, you create a composable by annotating a function with the `@Composable` annotation.

```kotlin
@Composable
fun Greeting() {
    Text(text = "Hello, World!")
}
```

You can preview the composable by writing another function and annotating it with `@Preview` annotation. Previews also must be composables so you also need to prefix your function with `@Composable` annotation.

```kotlin
@Preview(showBackground = true)
@Composable
fun DefaultPreview() {
    WavetableSynthesizerTheme {
        Greeting()
    }
}
```
## Setting the Theme of Your UI

`WavetableSynthesizerTheme` is a theme of your app defined in `ui.theme` subpackage in file *Theme.kt*. The theme contains colors, fonts, and shapes your app should use.

For now, we will change the colors to match WolfSound's visual identity. For this, we need to edit the file *Color.kt*.

```kotlin
package com.thewolfsound.wavetablesynthesizer.ui.theme

import androidx.compose.ui.graphics.Color

val WolfSoundOrange = Color(0xFFEF7600)
val WolfSoundDarkOrange = Color(0xFF854200)
val WolfSoundGray = Color(0xFF7C7C7C)
```

We can now edit *Theme.kt* file. There we replace the previous definitions of palettes with our own ones.

```kotlin
//...
private val DarkColorPalette = darkColors(
    primary = WolfSoundOrange,
    primaryVariant = WolfSoundDarkOrange,
    secondary = WolfSoundGray
)

private val LightColorPalette = lightColors(
    primary = WolfSoundOrange,
    primaryVariant = WolfSoundDarkOrange,
    secondary = WolfSoundGray
)
//...
```

The remaining default code in the file can stay as it was generated.

